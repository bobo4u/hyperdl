# 文件管理服务器
> 这是关于如何通过`nginx`搭建`linux`文件下载功能

使用容器技术，例如Docker，可以更方便地搭建文件管理服务器。以下是一个基于容器的例子：

- 创建Docker镜像：创建一个包含所需文件和配置的Docker镜像。首先，创建一个Dockerfile，其中包含以下内容：


```Dockerfile
# 使用官方的nginx镜像作为基础
FROM nginx:latest

# 将你的网站文件复制到容器中
COPY ./1.txt /usr/share/nginx/html

# 将你的Nginx配置文件复制到容器中
COPY ./your-nginx.conf /etc/nginx/conf.d/default.conf
```
- 然后，你需要创建一个Nginx配置文件 `your-nginx.conf`，它可能看起来像这样

```
server {
    listen 80;
    server_name localhost;

    location /files/ {
        alias /usr/share/nginx/html/;
        autoindex on;
    }
}
```

在上面的`Dockerfile`中，我们使用Nginx作为基础镜像，并将本地目录中1.txt的文件复制到容器的`/etc/nginx/conf.d/default.conf`目录中，并将本地`your-nginx.conf`文件复制到容器的`/etc/nginx/conf.d/default.conf`文件中。

- 构建Docker镜像：使用以下命令构建Docker镜像：


```bash
docker build -t fileserver .
```
这将基于Dockerfile构建一个名为`fileserver`的镜像。
- 运行容器：使用以下命令运行容器：


```arduino
docker run -d -p 787:80 fileserver
```
这将以后台模式运行容器，并将容器的80端口映射到服务器的787端口。端口可任意指定，避免与现有服务冲突
- 测试访问：通过这个容器服务所在的节点测试是否可以下载正常

```
wget http://localhost:787/files/1.txt
```

通过使用容器技术，你可以更轻松地部署和管理文件管理服务器。其他机器执行命令如下

```
wget http://ip:787/files/1.txt
```

- 公司验证环境：

```
wget http://192.168.1.130:787/files/1.txt
```

